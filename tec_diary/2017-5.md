**5-8 Python**

今天买了PHP的书，却在晚上学习起了Python，大家一直说Python是一门十分简单的语言，所以我下载了Head first Python的电子书。经过短暂的学习，发现学习Python是一个令人愉悦的事情。而且，Python和JS有很多相似之处，例如他们都是弱类型的动态语言。

Python中的数组不叫数组，叫做**列表list**，严格意义上说它并不等同于数组的功能。用**list.append('')**添加更多的项，用**list.pop()**，删除最后一个项，并返回，用**list.remove("itemname")**移除特定的项，用**list.insert(position, insertItem)**在特定位置添加特定项，用**list.extend(anotherList)**合并更多的list。

Python通过**isinstance(testName, datatype)**来验证一个标识符指示的数据类型是否为datatype，例如测试：isinstance(arr1, list)检测arr1是否是一个列表，类似于JS中的test instanceof datatype。用**len()**方法表示某个数据段的长度，类似于JS中的.length;

像instance()和print()这种方法叫做python内置函数（BIF）。

其次，Python的循环语句也更为简单，可以通过for item in list来进行一个列表内的元素遍历，item即为每一项，当然也可以使用while条件为真的时候，处理数据。

Python中的**组（suite）**表示的是代码块，其通过缩进的书写风格来表示。

Python中的函数使用def关键字声明：`def functionName():`

综上，Python与JS的不同之处在于，前者的条件语句以及函数等代码块中不适用花括号，直接用冒号就可以了。

**5-9 Python**

Python的逻辑操作符与PHP类似，and，or，not。Python中，不同数据类型的字符串不能够直接用+连接，而是要进行转换。例如一个字符串和一个数字，"this is "+18则会报错，正确的做法是，进行数据类型的转换，`"this is " \\+ str(18)`，还有一种方法是使用%对字符串进行**格式化**：

`"this is %d" % 18`，用18替换%d，当然，%d替换的是整数，若要替换小数，则是%f,%s替换字符串。

Python还有一些数据类型转换的方法：`int(x)`,`float(x)`,`bool(x)`

需要注意的是，int()和float()进行转换时，要转换的值并不能转换出现非数字字符的值

Python的input()方法允许用户输入一些内容，并且将输入的内容转换为字符串。例如下面 的代码中，输入的数字会被转换为该数字的字符串形式，使得与num无法进行比较，所以需 要使用int()方法进行数据类型转换。
    
    
    from random import randint
    num = randint(1, 100)
    print('请输入一个数字：')
    answer = False
    while answer == False:
      inputNum = int(input('猜猜看，我想的是什么数字：'))
    
      if inputNum < num:
        print('%d太小了' % inputNum)
      elif inputNum > num:
        print('%d太大了' % inputNum)
      else:
        print('猜对了！')
        answer = True
    

其次，在上面的代码第一行，引入了Python随机函数库，具体细节有待学习。

再者，注意上面代码中的条件判断语句的格式。

在循环中，**continue**表示跳过本轮循环，继续下一轮；**break**表示跳出循环，不再执行。

**5-10 Python**

Python的函数由def关键字后面跟上标识符、括号以及冒号定义，冒号下面就是通过缩进表示函数体。

函数的调用与JS一致，在函数标识符后面加上括号即可（有参数还需要加上参数）。

函数定义的时候定义的参数叫做形参，函数调用的时候传入的参数叫做实参。

函数仍然有局部变量之说，可以使用`global`关键字定义一个全局变量，不管它在什么地方定义

Python的变量查找与JS不同，在下面这个例子中，定义了一个全局变量x，并且在函数内部打印之前给其赋值，又 在函数外部为其赋不同的值，那么print会打印哪一个值呢？
    
    
    def global_func():
        global x
    
        print(x)
        x = 200  
    
    x = 100 
    global_func()
    

结果是print出100，并不是当前作用于下的200，其原因在于`x = 200`定义在print之后，当没有在print语句执行 之前为x赋值的话，函数会在全局作用域下查找赋值。

可以在设置函数形参的时候为函数传递默认参数值，用来当调用时没有设置参数响应参数之时，如果调用时提供了 相关的参数值，则会覆盖默认参数值。
    
    
    def printSomething(msg, times = 2):
    print(msg * times)
    
    printSomething('ha')  #'haha'
    printSomething('xi', 3) # 'xixixi'
    

需要注意的是，只有在形参列表末尾的那些参数才可以拥有默认参数。也就是说，在没有默认参数的参数前面不能 有设置了默认参数的参数。

当参数较多的时候，可以在调用的时候，通过形参标识符直接为关键参数赋值，这样可以使得函数调用更灵活，而 且不受形参顺序的影响（因为会有标识符来确认参数位置），如下例：
    
    
    def key_para(a, b=1, c=2):
    print('a =',a,',b =',b,',c =',c)
    
    key_para(1) #a = 1 ,b = 1 ,c = 2
    key_para(2, b=3, c=5) #a = 2 ,b = 3 ,c = 5
    key_para(c=3, a=100) #a = 100 ,b = 1 ,c = 3
    

下午，发现了一个JavaScript30计划，也就是30天，每天用纯JS（ES6）写一个页面。今天做的是做一个键盘模拟鼓点的页 面，其中需要掌握的知识点如下：

  1. 按下键盘事件结合keyCode,来确定哪个键位被按下（每个键位的keyCode是唯一的）。
  2. 使用ES6字符串模板以及querySelctor()来确定与按下键位相关联的div块，以便于改变其样式。`const key = document.querySelector(`div[data-type="${event.keyCode}"]`)` .字符串模板的使用方法是，将字符串包裹在反引号``中，字符串中的变量部分用${}包裹。
  3. 使用Array.from()方法将类数组对象以及可迭代对象转变为真正的数组。
  4. 在键盘按下之后，相应的div会发生transition样式变化，故而显示变化之后需要清除这些变化，会使用到一个`transitionend`事件，表示CSS中触发了transition属性之后的响应。
  5. `Element.classList`表示元素的class类数组列表，可以通过其`.add()`和`remove()`方法，添加或者移除响应的类名，以达到div样式的切换。

[在线地址](https://fanyj1994.github.io/JavaScript30/01%20-%20JavaScript%20Drum%20Kit/index-START.html)

**5-11 JS**

今早重写了昨天的JS30效果，用以检测掌握程度。过程中注意到`background-size: cover;`的CSS属性，并不明晰。 查询文档，发现此CSS属性有三种类型的值，第一种是例子中用到的cover，第二种是contain，第三种是width/height. 第三种好理解，前两种的区别是：cover表示背景图片尺寸会保持图像宽高比，尽可能放大，最大为原始大小。如果图 像的宽或者高等于容器的宽或者高的时候，它会停止放大，哪怕此时某一部分还是空白的。后者表示背景图片尺寸保持 图像宽高比，尽可能方法，一直到充满整个容器，如果宽或者高溢出容器，则会按照位置裁剪。 
<en-media type="image/png" alt="backgroun-size示意图" hash="9f5f24dd0eee165ff30920934ad6540e" style="height: auto;"/>

**5-12 JS**

昨天的JS30任务是写一个钟表效果，在指南文档的提示下，我能够将基本的逻辑写下来，但是，期间主要出现了两 大问题：第一是，在`new Date()`的时候，将其放在了更新时间函数的外面，使得每次调用函数的时候，时间并咩 有得到更新。其次是，关于三针转动角度的问题，我忽略了指针初始位置，需要在旋转开始时先旋转90度，使其到 达零点位置。

昨天的重点是 CSS3 `transform` 问题。需要多加应用。

**5-14 JS**

JS30 第三个任务我可以通过作者的提示完成基本功能，共用了22行代码（不包括 CSS），作者通过遍历添加事件，只用了6行代码，说明目前我还是停留在写出面条式代码的阶段，但是，好现象是，我能够通过自己写出功能，这是进步。

说回任务本身。昨天的任务涉及到了 dataset 属性，CSS 全局变量的使用，这两个东西是我前面没有接触到的。

### HTMLElement.dataset 属性
